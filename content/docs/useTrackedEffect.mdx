---
title: useTrackedEffect
description: A hook of useEffect that allow us to track which dependencies caused the effect to trigger.
---

## Overview

A hook of useEffect that allow us to track which dependencies caused the effect to trigger.

[Documentation and Examples](https://ahooks.js.org/hooks/use-trackedeffect)

## Installation

<OpenInV0Button url="https://shadcn-ahooks.vercel.app/r/useTrackedEffect.json" />

<Tabs items={['pnpm', 'npm', 'yarn', 'bun']}>
  <Tab value="pnpm">
  ```bash
  pnpm dlx shadcn@latest add https://shadcn-ahooks.vercel.app/r/useTrackedEffect.json
  ```
  </Tab>
  <Tab value="npm">
  ```bash
  npx shadcn@latest add https://shadcn-ahooks.vercel.app/r/useTrackedEffect.json
  ```
  </Tab>
  <Tab value="yarn">
  ```bash
  yarn shadcn@latest add https://shadcn-ahooks.vercel.app/r/useTrackedEffect.json
  ```
  </Tab>
  <Tab value="bun">
  ```bash
  bun shadcn@latest add https://shadcn-ahooks.vercel.app/r/useTrackedEffect.json
  ```
  </Tab>
</Tabs>

A hook of useEffect that allow us to track which dependencies caused the effect to trigger.

## Examples

### Basic usage

<Preview name="useTrackedEffect"
 code={`
import useTrackedEffect from '@/src/hooks/ahooks/useTrackedEffect';
import React, { useState } from 'react';


const Example = () => {
   const [count, setCount] = useState(0);
  const [count2, setCount2] = useState(0);

  useTrackedEffect(
    (changes) => {
      console.log('Index of changed dependencies: ', changes);
    },
    [count, count2],
  );

  return (
    <div>
      <p>Please open the browser console to view the output!</p>
      <div>
        <p>Count: {count}</p>
        <button onClick={() => setCount((c) => c + 1)}>count + 1</button>
      </div>
      <div style={{ marginTop: 16 }}>
        <p>Count2: {count2}</p>
        <button onClick={() => setCount2((c) => c + 1)}>count + 1</button>
      </div>
    </div>
  );
};

export default Example;`} />

## API

```typescript
useTrackedEffect(
  effect: (changes: [], previousDeps: [], currentDeps: []) => (void | (() => void | undefined)),
  deps?: deps,
)
```

The API is alike `React.useEffect`, but the first function will receive three parameters: `changes`, `previousDeps`, and `currentDeps`.

- changes: Index of changed dependencies
- previousDeps: Last deps
- currentDeps: Current deps
