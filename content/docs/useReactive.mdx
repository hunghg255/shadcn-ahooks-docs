---
title: useReactive
description: A React hook from ahooks library
---

## Overview

A React hook from ahooks library

[Documentation and Examples](https://ahooks.js.org/hooks/use-reactive)

## Installation

<OpenInV0Button url="https://shadcn-ahooks.vercel.app/r/useReactive.json" />

<Tabs items={['pnpm', 'npm', 'yarn', 'bun']}>
  <Tab value="pnpm">
  ```bash
  pnpm dlx shadcn@latest add https://shadcn-ahooks.vercel.app/r/useReactive.json
  ```
  </Tab>
  <Tab value="npm">
  ```bash
  npx shadcn@latest add https://shadcn-ahooks.vercel.app/r/useReactive.json
  ```
  </Tab>
  <Tab value="yarn">
  ```bash
  yarn shadcn@latest add https://shadcn-ahooks.vercel.app/r/useReactive.json
  ```
  </Tab>
  <Tab value="bun">
  ```bash
  bun shadcn@latest add https://shadcn-ahooks.vercel.app/r/useReactive.json
  ```
  </Tab>
</Tabs>

It offers data reactivity when manipulating states and views, in which case `useState` is unnecessary for state definition. Modifying properties will automatically lead to view rerendering.

## Examples

### Default Usage

<Preview name="useReactive"
 code={`
import useReactive from '@/src/hooks/ahooks/useReactive';


const Example = () => {
   const state = useReactive({
    count: 0,
    inputVal: '',
    obj: {
      value: '',
    },
  });

  return (
    <div>
      <p> state.count：{state.count}</p>

      <button style={{ marginRight: 8 }} onClick={() => state.count++}>
        state.count++
      </button>
      <button onClick={() => state.count--}>state.count--</button>

      <p style={{ marginTop: 20 }}> state.inputVal: {state.inputVal}</p>
      <input onChange={(e) => (state.inputVal = e.target.value)} />

      <p style={{ marginTop: 20 }}> state.obj.value: {state.obj.value}</p>
      <input onChange={(e) => (state.obj.value = e.target.value)} />
    </div>
  );
};

export default Example;`} />

### Array


<Preview name="useReactive"
 code={`
import useReactive from '@/src/hooks/ahooks/useReactive';


const Example = () => {
    const state = useReactive<{ arr: number[] }>({
    arr: [],
  });

  return (
    <div>
      <p>
        state.arr: <span role="test-array">{JSON.stringify(state.arr)}</span>
      </p>
      <button
        style={{ marginRight: '10px' }}
        onClick={() => state.arr.push(Math.floor(Math.random() * 100))}
        role="pushbtn"
      >
        push
      </button>
      <button style={{ marginRight: '10px' }} onClick={() => state.arr.pop()} role="popbtn">
        pop
      </button>
      <button style={{ marginRight: '10px' }} onClick={() => state.arr.shift()} role="shiftbtn">
        shift
      </button>
      <button
        style={{ marginRight: '10px' }}
        role="unshiftbtn"
        onClick={() => state.arr.unshift(Math.floor(Math.random() * 100))}
      >
        unshift
      </button>
      <button style={{ marginRight: '10px' }} role="reverse" onClick={() => state.arr.reverse()}>
        reverse
      </button>
      <button style={{ marginRight: '10px' }} role="sort" onClick={() => state.arr.sort()}>
        sort
      </button>
    </div>
  );
};

export default Example;`} />

### Computed Properties


<Preview name="useReactive"
 code={`
import useReactive from '@/src/hooks/ahooks/useReactive';


const Example = () => {
  const state = useReactive({
    bug: '',
    bugs: ['feat', 'fix', 'chore'],
    addBug(bug) {
      this.bugs.push(bug);
    },
    get bugsCount() {
      return this.bugs.length;
    },
  });

  return (
    <div>
      <p>state.bugsCount: {state.bugsCount}</p>

      <form
        onSubmit={(e) => {
          state.addBug(state.bug);
          state.bug = '';
          e.preventDefault();
        }}
      >
        <input type="text" value={state.bug} onChange={(e) => (state.bug = e.target.value)} />
        <button type="submit" style={{ marginLeft: '10px' }}>
          Add
        </button>
        <button type="button" style={{ marginLeft: '10px' }} onClick={() => state.bugs.pop()}>
          Delete
        </button>
      </form>

      <br />

      <ul>
        {state.bugs.map((bug) => (
          <li key={bug}>{bug}</li>
        ))}
      </ul>
    </div>
  );
};

export default Example;`} />

### Notice



<Preview name="useReactive"
 code={`
import useReactive from '@/src/hooks/ahooks/useReactive';
import React, { useEffect, useState } from 'react';

const Example = () => {
  const state = useReactive({ count: 0 });
  const [stateCount, setStateCount] = useState(0);

  const state2 = useReactive({ count: 0 });
  const [stateCount2, setStateCount2] = useState(0);

  // Depends on the object, because it is always the same reference, it will not be executed
  useEffect(() => {
    setStateCount(stateCount + 1);
  }, [state]);

  // Depends on the underlying data type, so as long as it changes, it will be re-executed
  useEffect(() => {
    setStateCount2(stateCount2 + 1);
  }, [state2.count]);

  return (
    <div>
      <button style={{ marginTop: 20 }} onClick={() => (state.count += 1)}>
        stateCount + 1
      </button>
      <p>stateCount:{stateCount}</p>

      <button style={{ marginTop: 20 }} onClick={() => (state2.count += 1)}>
        stateCount2 + 1
      </button>
      <p>stateCount2:{stateCount2}</p>
    </div>
  );
};

export default Example;`} />


## API

```js
const state = useReactive(initialValue: Record<string, any>);
```

## Params

| Params       | Description   | Type                  | Default |
| ------------ | ------------- | --------------------- | ------- |
| initialState | Current state | `Record<string, any>` | -       |

## FAQ

### When `useReactive` is used with `Map`, `Set`, it will throw an error or not work?

`useReactive` is not compatible with `Map`, `Set`。

Related issues: [#2239](https://github.com/alibaba/hooks/discussions/2239)
