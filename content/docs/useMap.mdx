---
title: useMap
description: A hook that can manage the state of Map.
---

## Overview

A hook that can manage the state of Map.

[Documentation and Examples](https://ahooks.js.org/hooks/use-map)

## Installation

<OpenInV0Button url="https://shadcn-ahooks.vercel.app/r/useMap.json" />

<Tabs items={['pnpm', 'npm', 'yarn', 'bun']}>
  <Tab value="pnpm">
  ```bash
  pnpm dlx shadcn@latest add https://shadcn-ahooks.vercel.app/r/useMap.json
  ```
  </Tab>
  <Tab value="npm">
  ```bash
  npx shadcn@latest add https://shadcn-ahooks.vercel.app/r/useMap.json
  ```
  </Tab>
  <Tab value="yarn">
  ```bash
  yarn shadcn@latest add https://shadcn-ahooks.vercel.app/r/useMap.json
  ```
  </Tab>
  <Tab value="bun">
  ```bash
  bun shadcn@latest add https://shadcn-ahooks.vercel.app/r/useMap.json
  ```
  </Tab>
</Tabs>

A hook that can manage the state of Map.

## Examples

### Default usage

<Preview name="useMap"
 code={`
import useMap from '@/src/hooks/ahooks/useMap';

function mockApiRequest() {
  return new Promise<void>((resolve) => {
    setTimeout(() => {
      resolve();
    }, 2000);
  });
}

const Example = () => {
 const [map, { set, setAll, remove, reset, get }] = useMap<string | number, string>([
    ['msg', 'hello world'],
    [123, 'number type'],
  ]);

  return (
    <div>
      <button type="button" onClick={() => set(String(Date.now()), new Date().toJSON())}>
        Add
      </button>
      <button
        type="button"
        onClick={() => setAll([['text', 'this is a new Map']])}
        style={{ margin: '0 8px' }}
      >
        Set new Map
      </button>
      <button type="button" onClick={() => remove('msg')} disabled={!get('msg')}>
        Remove 'msg'
      </button>
      <button type="button" onClick={() => reset()} style={{ margin: '0 8px' }}>
        Reset
      </button>
      <div style={{ marginTop: 16 }}>
        <pre>{JSON.stringify(Array.from(map), null, 2)}</pre>
      </div>
    </div>
  );
};

export default Example;`} />

## API

```typescript
const [
  map,
  {
    set,
    setAll,
    remove,
    reset,
    get
  }
] = useMap<K, V>(initialValue);
```

### Result

| Property | Description      | Type                                 |
| -------- | ---------------- | ------------------------------------ |
| map      | Map object       | `Map<K, V>`                          |
| set      | Add item         | `(key: K, value: V) => void`         |
| get      | Get item         | `(key: K) => V \| undefined`         |
| setAll   | Set a new Map    | `(newMap: Iterable<[K, V]>) => void` |
| remove   | Remove key       | `(key: K) => void`                   |
| reset    | Reset to default | `() => void`                         |

### Params

| Property     | Description                 | Type               | Default |
| ------------ | --------------------------- | ------------------ | ------- |
| initialValue | Optional, set default value | `Iterable<[K, V]>` | -       |
