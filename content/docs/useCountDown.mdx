---
title: useCountDown
description: A hook for manage countdown.
---

## Overview

A hook for manage countdown.

[Documentation and Examples](https://ahooks.js.org/hooks/use-countdown)

## Installation

<OpenInV0Button url="https://shadcn-ahooks.vercel.app/r/useCountDown.json" />

<Tabs items={['pnpm', 'npm', 'yarn', 'bun']}>
  <Tab value="pnpm">
  ```bash
  pnpm dlx shadcn@latest add https://shadcn-ahooks.vercel.app/r/useCountDown.json
  ```
  </Tab>
  <Tab value="npm">
  ```bash
  npx shadcn@latest add https://shadcn-ahooks.vercel.app/r/useCountDown.json
  ```
  </Tab>
  <Tab value="yarn">
  ```bash
  yarn shadcn@latest add https://shadcn-ahooks.vercel.app/r/useCountDown.json
  ```
  </Tab>
  <Tab value="bun">
  ```bash
  bun shadcn@latest add https://shadcn-ahooks.vercel.app/r/useCountDown.json
  ```
  </Tab>
</Tabs>

A hook for manage countdown.

## Countdown to target time


<Preview name="useCountDown"
 code={`

import useCountDown from '@/src/hooks/ahooks/useCountDown';

const Example = () => {
   const [, formattedRes] = useCountDown({
    targetDate: \`\${new Date().getFullYear()}-12-31 23:59:59\`,
  });
  const { days, hours, minutes, seconds, milliseconds } = formattedRes;
  return (
    <p>
      There are {days} days {hours} hours {minutes} minutes {seconds} seconds {milliseconds}{' '}
      milliseconds until {new Date().getFullYear()}-12-31 23:59:59
    </p>
  );
};

export default Example;`} />

## Dynamic config

<Preview name="useCountDown"
 code={`
import React, { useState } from 'react';
import useCountDown from '@/src/hooks/ahooks/useCountDown';

const Example = () => {
 const [targetDate, setTargetDate] = useState<number>();

  const [countdown] = useCountDown({
    targetDate,
    onEnd: () => {
      alert('End of the time');
    },
  });

  return (
    <>
      <button
        onClick={() => {
          setTargetDate(Date.now() + 5000);
        }}
        disabled={countdown !== 0}
      >
        {countdown === 0 ? 'Start Interval' : \`Reset After \${Math.round(countdown / 1000)}s\`}
      </button>
      <button
        onClick={() => {
          setTargetDate(undefined);
        }}
        style={{ marginLeft: 8 }}
      >
        stop
      </button>
    </>
  );
};

export default Example;`} />

## Config leftTime

<Preview name="useCountDown"
 code={`
import useCountDown from '@/src/hooks/ahooks/useCountDown';

const Example = () => {
  const [countdown] = useCountDown({ leftTime: 60 * 1000 });
  return <p>{countdown}</p>;
};

export default Example;`} />

## API

```typescript
type TDate = Date | number | string | undefined;

interface FormattedRes {
  days: number;
  hours: number;
  minutes: number;
  seconds: number;
  milliseconds: number;
}

const [countdown, formattedRes] = useCountDown(
  {
    leftTime,
    targetDate,
    interval,
    onEnd
  }
);
```

**Remark**

The precision of useCountDown is milliseconds, which may cause the following problems

- Even if the interval time is set to 1000ms, the update interval of useCountDown may not be exactly 1000ms, but around it.
- In the second demo, countdown is generally 499x milliseconds at the beginning due to the execution delay of the program.

If you only need to be accurate to the second, you can use it like this `Math.round(countdown / 1000)`.

If both `leftTime` and `targetDate` are passed, the `targetDate` is ignored, the `leftTime` is dominant.

### Params

| Property   | Description                                  | Type         | Default |
| ---------- | -------------------------------------------- | ------------ | ------- |
| leftTime   | The rest of time, in milliseconds            | `number`     | -       |
| targetDate | Target time                                  | `TDate`      | -       |
| interval   | Time interval between ticks, in milliseconds | `number`     | `1000`  |
| onEnd      | Function to call when countdown completes    | `() => void` | -       |

### Return

| Params          | Description                              | Type           |
| --------------- | ---------------------------------------- | -------------- |
| countdown       | Timestamp to targetDate, in milliseconds | `number`       |
| formattedResult | Formatted countdown                      | `FormattedRes` |

## Remark

`leftTime`、`targetDate`、`interval`、`onEnd` support dynamic change.
