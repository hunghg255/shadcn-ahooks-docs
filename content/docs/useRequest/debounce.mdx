---
title: Debounce
description: The API useRequest
---


# Debounce

Enter the debounce mode by setting `options.debounceWait`. At this time, if `run` or `runAsync` is triggered frequently, the request will be executed with the debounce strategy.

```tsx | pure
const { data, run } = useRequest(getUsername, {
  debounceWait: 300,
  manual: true
});
```

As in the example code above, if `run` is triggered frequently, it will only wait for 300ms to execute after the last trigger.

You can quickly enter text in the input box below to experience the effect

<Preview name="useRequest"
 code={`

import useRequest from '@/src/hooks/ahooks/useRequest';
import Mock from 'mockjs';
import React from 'react';

async function getEmail(search?: string): Promise<string[]> {
  console.log('debounce getEmail', search);
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve(Mock.mock({ 'data|5': ['@email'] }).data);
    }, 300);
  });
}
const Example = () => {
  const { data, loading, run } = useRequest(getEmail, {
    debounceWait: 1000,
    manual: true,
  });

  return (
    <div>
      <input placeholder="Search Emails" onChange={(e) => run(e.target.value)} />
      {loading ? (
        <p>loading</p>
      ) : (
        <ul style={{ marginTop: 8 }}>
          {data?.map((i) => (
            <li key={i}>{i}</li>
          ))}
        </ul>
      )}
    </div>
  );
};

export default Example;`} />


## API

### Options

The usage and effect of all debounce property are the same as [lodash.debounce](https://lodash.com/docs/4.17.15#debounce)

| Property         | Description                                                                  | Type      | Default Value |
| ---------------- | ---------------------------------------------------------------------------- | --------- | ------------- |
| debounceWait     | Debounce delay time, in milliseconds. After setting, enter the debounce mode | `number`  | -             |
| debounceLeading  | Execute the request before the delay starts                                  | `boolean` | `false`       |
| debounceTrailing | Execute the request after the delay ends                                     | `boolean` | `true`        |
| debounceMaxWait  | The maximum time request is allowed to be delayed before itâ€™s executed       | `number`  | -             |
| pollingIntervalWhen | pollingIntervalWhen is used together with debounce options, it specifies when to start polling | `(data, params) => number \| boolean` | - |

## Remark

- `options.debounceWait`, `options.debounceLeading`, `options.debounceTrailing`, `options.debounceMaxWait`, `options.pollingIntervalWhen` support dynamic changes.
- `runAsync` will return a `Promise` when it is actually executed. When it is not executed, there will be no return.
- `cancel` can abort a function waiting to be executed.
