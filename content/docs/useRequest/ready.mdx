---
title: Ready
description: The API useRequest
---

## Ready


By setting `options.ready`, you can control whether a request is sent. When its value is `false`, the request will never be sent.

The specific behavior is as follows:

1. In the automatic mode of `manual=false`, every time `ready` changes from `false` to `true`, a request will be automatically executed with the parameter `options.defaultParams`.
2. When `manual=true` manual request mode, as long as `ready=false`, the request triggered by `run/runAsync` will not be executed.

## Automatic mode

The following example demonstrates the behavior of `ready` in automatic mode. Every time `ready` changes from `false` to `true`, the request will be executed.

<Preview name="useRequest"
registryDependencies={['useToggle']}
 code={`

import useRequest from '@/src/hooks/ahooks/useRequest';
import useToggle from '@/src/hooks/ahooks/useToggle';

function getUsername() {
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve('H' + Math.random().toString(36).substring(7));
    }, 1000);
  });
}

const Example = () => {
  const [ready, { toggle }] = useToggle(false);

  const { data, loading } = useRequest(getUsername, {
    ready,
  });

  return (
    <>
      <p>
        Ready: {JSON.stringify(ready)}
        <button onClick={toggle} style={{ marginLeft: 16 }}>
          Toggle Ready
        </button>
      </p>
      <p>Username: {loading ? 'Loading' : data}</p>
    </>
  );
};

export default Example;`} />

## Manual mode

The following example demonstrates the behavior of `ready` in manual mode. Only when `ready` is equal to `true`, `run` will be executed.

<Preview name="useRequest"
registryDependencies={['useToggle']}
code={`

import useRequest from '@/src/hooks/ahooks/useRequest';
import useToggle from '@/src/hooks/ahooks/useToggle';

function getUsername() {
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve('H' + Math.random().toString(36).substring(7));
    }, 1000);
  });
}
const Example = () => {
   const [ready, { toggle }] = useToggle(false);

  const { data, loading, run } = useRequest(getUsername, {
    ready,
    manual: true,
  });

  return (
    <>
      <p>
        Ready: {JSON.stringify(ready)}
        <button onClick={toggle} style={{ marginLeft: 16 }}>
          Toggle Ready
        </button>
      </p>
      <p>
        Username: {loading ? 'Loading' : data}
        <button type="button" onClick={run} style={{ marginLeft: 16 }}>
          run
        </button>
      </p>
    </>
  );
};

export default Example;`} />

## API

### Options

| Property | Description                  | Type      | Default |
| -------- | ---------------------------- | --------- | ------- |
| ready    | Is the current request ready | `boolean` | `true`  |
